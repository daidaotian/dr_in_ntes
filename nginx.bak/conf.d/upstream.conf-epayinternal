upstream backend_platformboss {
    server 10.120.83.19:8081 max_fails=3 fail_timeout=30s;
    server 10.120.83.20:8081 max_fails=3 fail_timeout=30s;
    server 10.120.83.24:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}

# Above config is confirm

upstream backend_abel {
    server 10.120.83.253:8080;
    server 10.120.83.167:8080;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}

upstream backend_nxyadmin_nyx {
    server 10.120.78.64:8081 max_fails=3 fail_timeout=30s;
    server 10.120.78.63:8081 max_fails=3 fail_timeout=30s;
    keepalive 120;
}

upstream backend_accounting {
    sticky name=ACCOUNTINGJSESSIONID0   path=/;
    server 10.120.83.123:26923 max_fails=3 fail_timeout=30s;
    server 10.120.83.124:26923 max_fails=3 fail_timeout=30s;

    keepalive 512;
}

upstream diamond {
    sticky name=DIAMONDJSESSIONID path=/;
    server 10.120.82.103:8080;
    server 10.120.82.104:8080;
    server 10.120.82.105:8080;
}

upstream backend_epay {
    server 10.120.82.203:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.204:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.205:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.207:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.208:6800 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=6801;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream backend_epay_mer {
    server 10.120.82.203:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.204:6800 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=30000 type=http port=6801;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream backend_epay_promotion_path {
    server 10.120.82.203:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.204:6800 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=30000 type=http port=6801;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream backend_epay_manager_path {
    server 10.120.82.203:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.204:6800 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=30000 type=http port=6801;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream backend_epay_jf {

    server 10.120.82.30:6822 max_fails=3 fail_timeout=30s;
    #server 10.120.82.139:6822 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_epay_ab {
    server 10.120.82.203:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.204:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.205:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.207:6800 max_fails=3 fail_timeout=30s;
    server 10.120.82.208:6800 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream epayshecdue {
    server 10.120.82.142:1086;
    server 10.120.82.143:1086;
}

upstream backend_finance {
    sticky name=FINANCEHZ hmac=sha1 hmac_key=financehz;
    server 10.120.82.219:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.220:8081 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_gate {
    sticky name=GATESESSION   path=/;
    server 10.120.83.78:8080;
    server 10.120.83.79:8080;
    server 10.120.83.157:8080;
    keepalive 30;
}

upstream backend_kschedule {
    server 10.120.220.30:8181;
    server 10.120.220.31:8181;
}

upstream backend_probe {
    server 10.120.220.35:8181;
    server 10.120.220.36:8181;
}

upstream backend_intrasale {
    server 10.120.82.57:6699 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_payments_admin {
    server 10.120.82.56:26911 max_fails=3 fail_timeout=30s;
    server 10.120.82.57:26911 max_fails=3 fail_timeout=30s  backup;
    check interval=6000 rise=3 fall=3 timeout=10000 type=http port=8181;
    check_http_send "HEAD /servlet/Health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream backend_promotion {
    server 10.120.82.40:26944 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_risk_admin {
    server 10.120.82.90:8081;
}

upstream backend_epay_risk {
    server 10.120.82.40:26988 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_groupon {
    server 10.120.82.40:26933 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_tianwei {
    sticky name=TIANWEI;
    server 10.120.82.68:8080 max_fails=3 fail_timeout=30s;
    server 10.120.82.69:8080 max_fails=3 fail_timeout=30s;
    server 10.120.82.70:8080 max_fails=3 fail_timeout=30s;
}

upstream backup_zookeeper_admin {
    server 10.120.82.253:26921 max_fails=3 fail_timeout=30s;
    server 10.120.82.197:26921 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backup_zookeeper_monitor {
    server 10.120.82.253:8080 max_fails=3 fail_timeout=30s;
    server 10.120.82.197:8080 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_athena {
    sticky name=FUNDROUTE path=/;
    server 10.120.82.113:8081 max_fails=3 fail_timeout=30s;
    server 10.120.83.28:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;

    keepalive 120;
}

upstream backend_diana_w {
    server 10.120.82.127:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.128:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 120;
}

upstream backend_athena_guohua {
    server 10.120.82.113:8081 max_fails=3 fail_timeout=30s;
    server 10.120.83.28:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;

    keepalive 50;
}

upstream backend_athena_http {
    server 10.120.82.113:8080 max_fails=3 fail_timeout=30s;
    server 10.120.83.28:8080 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;

    keepalive 100;
}
upstream backend_diana {
    server 10.120.82.127:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.128:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;

    keepalive 120;
}

upstream backend_slm {
    server 10.120.78.128:8081 max_fails=3 fail_timeout=30s;
    server 10.120.78.129:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=10000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 120;
}

upstream backend_watchman {
    server 10.120.78.119:8090 max_fails=3 fail_timeout=30s;
    server 10.120.78.120:8090 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8090;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 120;
}

upstream backend_diana_http {
    server 10.120.82.127:8080 max_fails=3 fail_timeout=30s;
    server 10.120.82.128:8080 max_fails=3 fail_timeout=30s;
    keepalive 100;
}
upstream productsign {
    server 10.120.83.188:8585 max_fails=3 fail_timeout=30s;
    server 10.120.83.189:8585 max_fails=3 fail_timeout=30s;
    server 10.120.82.239:8585 max_fails=3 fail_timeout=30s;
    server 10.120.82.240:8585 max_fails=3 fail_timeout=30s;
    server 10.120.82.241:8585 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=10000 type=http port=8585;
    check_http_send "HEAD /Products/health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 200;
}

upstream slm {
    server 10.120.78.128:8080 max_fails=3 fail_timeout=30s;
    server 10.120.78.129:8080 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=10000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 200;
}

upstream atlasanalysis {
    server 10.120.78.125:8081 max_fails=3 fail_timeout=30s;
    server 10.120.78.126:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=10000 type=http port=8081;
    check_http_send "HEAD /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 200;
}

upstream vidar {
    server 10.120.220.67:8080 max_fails=3 fail_timeout=30s;
    server 10.120.220.68:8080 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=10000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 200;
}

upstream atlastask {
    server 10.120.78.113:8080 max_fails=3 fail_timeout=30s;
    server 10.120.78.114:8080 max_fails=3 fail_timeout=30s;
}

upstream schema-registry-bj {
    server 10.120.83.52:8081;
    server 10.120.83.54:8081;
    server 10.120.83.55:8081;
    server 10.120.83.58:8081;
    server 10.120.83.59:8081;
    keepalive 512;
}

upstream predict-service-bj {
    server 10.120.82.192:8181;
    server 10.120.82.193:8181;
    server 10.120.82.194:8181;
    server 10.120.82.195:8181;
    server 10.120.82.196:8181;
    keepalive 512;
}

upstream risk-bj {
    server 10.120.82.57:8787;
    server 10.120.82.156:8787;
    server 10.120.82.157:8787;
    server 10.120.82.160:8787;
    server 10.120.83.91:8787;
    server 10.120.83.92:8787;
    keepalive 512;
}

upstream mockapi-service-bj {
    server 10.120.220.48:7001;
}

upstream wyb-kafka-schreg-hzbj {
    server 10.120.83.52:8081;
    server 10.120.83.54:8081;
    server 10.120.83.55:8081;
    server 10.120.83.58:8081;
    server 10.120.83.59:8081;
    keepalive 512;
}

upstream wyb-kafka-rest-hzbj {
    server 10.120.83.52:8082;
    server 10.120.83.54:8082;
    server 10.120.83.55:8082;
    server 10.120.83.58:8082;
    server 10.120.83.59:8082;
    keepalive 512;
}

upstream vesta8 {
    server 10.120.83.162:8081 max_fails=3 fail_timeout=30s;
    server 10.120.83.71:8081 max_fails=3 fail_timeout=30s;
}
upstream medusa {
    server 10.120.82.24:8081;
    server 10.120.82.25:8081;
    keepalive 200;
}
upstream workflowepay {
    server 10.120.83.25:8081;
    server 10.120.83.26:8081;
    server 10.120.83.49:8081;
}
upstream backend_epay_cashier {
    server 10.120.82.55:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.58:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.164:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.165:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.166:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.168:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.169:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.170:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 100;
}
upstream backend_epay_cashierab {
    server 10.120.82.53:8081 max_fails=3 fail_timeout=30s;
    server 10.120.82.54:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 100;
}

upstream backend_cfadmin {
    server 10.120.78.92:8081 max_fails=3 fail_timeout=30s;
    server 10.120.78.93:8081 max_fails=3 fail_timeout=30s;
    check interval=3000 rise=3 fall=3 timeout=5000 type=http port=8080;
    check_http_send "HEAD /health/status.htm HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 512;
}

upstream nyxweb{
    server 10.120.78.65:8080 max_fails=3 fail_timeout=30s;
    server 10.120.78.66:8080 max_fails=3 fail_timeout=30s;
    keepalive 120;
}
upstream backend_survey{
    server 10.120.78.110:8080;
    server 10.120.78.111:8080;
}
upstream backend_dashboard{
    sticky;
    server 10.120.78.107:8181;
    server 10.120.78.108:8181;

}

upstream backend_customer_web {
    sticky name=CUSTOMERAPP   path=/;
    server 10.120.220.59:8080 max_fails=3 fail_timeout=30s;
    server 10.120.220.60:8080 max_fails=3 fail_timeout=30s;
    keepalive 512;
}

upstream backend_consul {
    server 10.120.78.110:8500;
}

upstream bsfit-rule {
    server 10.120.82.89:10080;
    server 10.120.82.90:10080;
}

upstream bangsun-engine {
    server 10.120.220.90:9180;
    server 10.120.220.91:9180;
    server 10.120.220.92:9180;
    server 10.120.220.93:9180;
    server 10.120.220.94:9180;
}

upstream bsfit-bjepay {
    sticky name=BSFITBJ hmac=sha1 hmac_key=bsfitbj;
    server 10.130.12.243:10080;
    server 10.130.12.244:10080;
}

upstream lqadmin-epayhz {
    sticky name=LQADMIN hmac=sha1 hmac_key=lqadmin;
    server 10.120.220.218:8181;
    server 10.120.220.219:8181;
}
