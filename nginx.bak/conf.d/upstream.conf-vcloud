# -*- Mode: Nginx -*-

upstream gslb-live {
    server 10.172.129.2:8080;
    server 10.172.129.3:8080;
    server 10.172.129.4:8080;
    server 10.172.129.5:8080;
    check interval=3000 rise=2 fall=1 timeout=1000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream gslb-live-sdk {
    server 10.201.209.168:8080;
    server 10.201.209.167:8080;
    server 10.201.209.172:8080;
    server 10.201.209.166:8080;
    server 10.201.209.173:8080;
    server 10.201.209.169:8080;
    server 10.201.209.175:8080;
    server 10.201.209.174:8080;
    server 10.201.209.181:8080;
    server 10.201.209.184:8080;
    server 10.201.209.183:8080;
    server 10.201.209.182:8080;
    server 10.170.164.58:8080;
    check interval=3000 rise=2 fall=1 timeout=1000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream gslblt-live {
    server 10.165.181.57:8080;
    check interval=3000 rise=2 fall=1 timeout=1000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream gslbqa-live {
    server 10.165.181.29:8080;
    server 10.165.181.27:8080;
    check interval=3000 rise=2 fall=1 timeout=1000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkauth {
    server 10.201.209.70:8181;
    server 10.201.209.71:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkauth-gray {
    server 10.201.209.199:8182;
    server 10.201.209.200:8182;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkstats-kms {
    server 10.122.143.32:9090;
    server 10.122.143.33:9090;
    server 10.122.143.34:9090;
    server 10.122.143.35:9090;
    server 10.201.209.44:9090;
    server 10.201.209.45:9090;
    server 10.201.209.213:9090;
    server 10.201.209.214:9090;
    server 10.201.209.215:9090;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http default_down=false;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 100;
}
upstream sdkstats-live {
    server 10.201.209.114:8890;
    server 10.201.209.115:8890;
    server 10.201.209.116:8890;
    server 10.201.209.117:8890;
    server 10.201.209.197:8890;
    server 10.201.209.198:8890;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkstats-live-gray {
    server 10.201.209.199:8181;
    server 10.201.209.200:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkstats-report {
    server 10.122.143.32:9090;
    server 10.122.143.33:9090;
    server 10.122.143.34:9090;
    server 10.122.143.35:9090;
    server 10.201.209.44:9090;
    server 10.201.209.45:9090;
    server 10.201.209.213:9090;
    server 10.201.209.214:9090;
    server 10.201.209.215:9090;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http default_down=false;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 100;
}
upstream vcloud {
    server 10.164.144.124;
    server 10.164.144.101;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vcloud-live {
    server 10.122.143.56:8181;
    server 10.122.143.55:8181;
    server 10.201.209.190:8181;
    server 10.201.209.191:8181;
    server 10.201.209.192:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream vcloud-live-gray {
    server 10.172.129.47:8183;
    server 10.201.209.219:8183;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream vcloud-schedule {
    server 10.201.209.164:8881;
    server 10.201.209.146:8881;
    server 10.201.209.147:8881;
    server 10.201.209.148:8881;
    server 10.201.209.178:8881;
    server 10.201.209.177:8881;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.1\r\nHost: schedule-test.netease.com\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream vcloud-schedule-gray {
    server 10.201.209.180:8881;
    server 10.201.209.179:8881;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.1\r\nHost: schedule-test.netease.com\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
upstream vcloud-statics {
    server 10.172.129.48:8888;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /index.jsp HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vcloud-vod {
    server 10.122.143.57:8181;
    server 10.122.143.54:8181;
    server 10.201.209.33:8181;
    server 10.201.209.37:8181;
    server 10.201.209.38:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}
upstream vcloud-vod-gray {
    server 10.201.209.189:8182;
    server 10.201.209.35:8182;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}
upstream vcloud-vod-encrypt {
    server 10.122.143.57:8181;
    server 10.201.209.37:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}
upstream vcloud-vod-nts3 {
    server 10.201.209.33:8181;
    server 10.201.209.38:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}
upstream vcloud-vod-trans {
    server 10.122.143.54:8181;
    server 10.201.209.40:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}
upstream vcloud-website {
    server 10.201.164.169:8181;
    server 10.172.47.48:8181;
    server 10.201.164.165:8181;
    check interval=30000 rise=2 fall=3 timeout=5000 type=http default_down=false;
    check_http_send "GET /api/healthstatus HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vod-auth {
    server 10.172.129.82:8182;
    server 10.172.129.83:8182;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "HEAD /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vod-auth-gray {
    server 10.201.209.199:8183;
    server 10.201.209.200:8183;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "HEAD /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vod_player {
    server 10.200.128.44:8001 weight=300;
    server 10.200.128.45:8001 weight=300;
    server 10.200.128.231:8001 weight=300;
    server 10.200.128.232:8001 weight=1;
    check interval=3000 rise=2 fall=3 timeout=10000 type=http;
    check_http_send "GET / HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream sdkrules-service {
    server 10.201.209.114:8890;
    server 10.201.209.115:8890;
    server 10.201.209.116:8890;
    server 10.201.209.117:8890;
    server 10.201.209.197:8890;
    server 10.201.209.198:8890;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
}
upstream vod-keyserver {
    server 10.201.209.53:8181;
    server 10.201.209.54:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /health/status HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 10;
}

upstream vcloud-statistic {
    sticky;
    server 10.201.209.73:8181;
    server 10.201.209.74:8181;
    server 10.201.209.207:8181;
    server 10.201.209.208:8181;
    check interval=3000 rise=2 fall=3 timeout=5000 type=http;
    check_http_send "GET /nginx HTTP/1.0\r\n\r\n";
    check_http_expect_alive http_2xx http_3xx;
    keepalive 20;
}
